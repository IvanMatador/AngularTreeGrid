<ejs-treegrid #treegrid [dataSource]='data'
              [enableVirtualization]=true
              showColumnMenu=true
              height=300
              childMapping='Crew'
              [treeColumnIndex]='1'
              [contextMenuItems]="contextMenuItems"
              showItemOnClick="true"
              [editSettings]='editing'
              [toolbar]="toolbar"
              [allowFiltering]=true
              [allowResizing]='true'
              (beforeItemRender)='itemRender($event)'
              (contextMenuOpen)="contextMenuOpen($event)"
              (contextMenuClick)="contextMenuClick($event)">
    <e-columns>
        <e-column field='TaskID'
                  isPrimaryKey='true'
                  headerText='Player Jersey'
                  width='120'
                  textAlign='Right'
                  showColumnMenu=true
                  id='target'>
        </e-column>
        <e-column field='FIELD1'
                  headerText='Player Name'
                  width='120'
                  showColumnMenu=true
                  editType='dropdownedit'>
        </e-column>
        <e-column field='FIELD2'
                  headerText='Year'
                  width='100'
                  textAlign='Right'
                  showColumnMenu=true
                  editType='dropdownedit'>
        </e-column>
        <e-column field='FIELD3'
                  headerText='Stint'
                  width='120'
                  textAlign='Right'
                  showColumnMenu=true
                  ditType='dropdownedit'>
        </e-column>
        <e-column field='FIELD4'
                  headerText='TMID'
                  width='120'
                  textAlign='Right'
                  showColumnMenu=true
                  ditType='dropdownedit'>
        </e-column>
    </e-columns>
</ejs-treegrid>

    <div #container class='root-container'>
        <ejs-dialog id='dialog' #ejDialog
                    (close)='closeDialog($event)'
                    [header]='dialogHeader'
                    [content]='editSettingsTemplate'
                    [visible]='false'
                    [showCloseIcon]='true'
                    [target]='targetElement'
                    [buttons]='buttons'
                    width='300px'>
        </ejs-dialog>
    </div>

    <ng-template #dialogHeader>
        <div>{{ dialogHeaderText }}</div>
    </ng-template>

    <ng-template #editSettingsTemplate let-data>
            <div class="form-row">
                <div class="form-group col-md-6" *ngIf="editingColumnName">
                    <div class="e-float-input e-control-wrapper">
                        <input fomControl="columnName" [value]='columnName.value' (blur)="handleChange($event)" id="taskID" name="taskID" type="text">
                        <span class="e-float-line"></span>
                        <label class="e-float-text e-label-top" for="taskID">Column header name</label>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6" *ngIf="editingColumnDataType">
                    <div class="e-float-input e-control-wrapper">
                        <input fomControl="columnDataType" [value]='columnDataType.value' (blur)="handleChange($event)" id="taskID" name="taskID" type="text">
                        <span class="e-float-line"></span>
                        <label class="e-float-text e-label-top" for="taskID">Column data type</label>
                    </div>
                </div>
            </div>
    </ng-template>